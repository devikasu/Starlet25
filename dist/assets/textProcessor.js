function p(t){const n=l(t),r=f(n),s=n.length,e=Math.ceil(r/200),o=d(n),c=g(n),a=h(n),i=m(t),u=w(t);return{originalText:t,wordCount:r,characterCount:s,estimatedReadingTime:e,summary:o,keywords:c,language:a,hasCode:i,hasLinks:u,processedAt:Date.now()}}function l(t){return t.replace(/\s+/g," ").replace(/\n\s*\n/g,`
`).trim()}function f(t){return t.split(/\s+/).filter(n=>n.length>0).length}function d(t,n=200){const r=t.split(/[.!?]+/).filter(e=>e.trim().length>0);let s="";for(const e of r){if((s+e).length>n)break;s+=e+". "}return s.trim()||t.substring(0,n)+"..."}function g(t,n=10){const r=t.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(e=>e.length>3),s={};return r.forEach(e=>{s[e]=(s[e]||0)+1}),Object.entries(s).sort(([,e],[,o])=>o-e).slice(0,n).map(([e])=>e)}function h(t){const n=["the","and","or","but","in","on","at","to","for","of","with","by"],r=["el","la","de","que","y","a","en","un","es","se","no","te"],s=t.toLowerCase().split(/\s+/);let e=0,o=0;return s.forEach(c=>{n.includes(c)&&e++,r.includes(c)&&o++}),e>o?"en":o>e?"es":"unknown"}function m(t){return[/function\s+\w+\s*\(/,/const\s+\w+\s*=/,/let\s+\w+\s*=/,/var\s+\w+\s*=/,/if\s*\(/,/for\s*\(/,/while\s*\(/,/class\s+\w+/,/import\s+/,/export\s+/,/console\.log/,/return\s+/,/=>\s*/,/{[\s\S]*}/,/\[[\s\S]*\]/,/\([\s\S]*\)/].some(r=>r.test(t))}function w(t){return/https?:\/\/[^\s]+/g.test(t)}function C(t){return t<1?"Less than 1 minute":t===1?"1 minute":`${t} minutes`}function y(t){return t===1?"1 word":`${t.toLocaleString()} words`}function L(t){return`${t.toLocaleString()} characters`}export{L as a,C as b,y as f,p};
